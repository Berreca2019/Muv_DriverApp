<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="../css/index.css" />
    <script src="../js/jquery-3.6.0.min.js"></script>
    <title>Documentos</title>
</head>
<body class="doc-body">
    <div class="container">
        <div class="doc-container">
            
            <div class="txtDoc-box">
                <h1>Clique nos ícones abaixo</h1>
                <p>forneça os respectivos documentos para continuar</p>
            </div>

            <div class="docInput-container">
                <div class="doc-box rg-box">
                    <label for="rgFile" class="label-box">
                        <p>RG</p> 
                        
                        <figure>
                            <img src="../img/rg-icon.png" alt="rg-icon" class="rgFileStatus">
                        </figure>
                    </label>

                    <input type="file" name="rg-file" id="rgFile" class="file-input">
                </div>

                <div class="doc-box cnh-box">
                    <label for="cnhFile" class="label-box">
                        <p>CNH</p> 
                        
                        <figure>
                            <img src="../img/cnh-icon.png" alt="rg-icon" class="cnhFileStatus">
                        </figure>
                    </label>

                    <input type="file" name="cnh-file" id="cnhFile" class="file-input">
                </div>

                <div class="doc-box crlv-box">
                    <label for="crlvFile" class="label-box">
                        <p>CRLV</p> 
                        
                        <figure>
                            <img src="../img/crlv-icon.png" alt="rg-icon" class="crlvFileStatus">
                        </figure>
                    </label>

                    <input type="file" name="cnh-file" id="crlvFile" class="file-input">
                </div>

                <div class="doc-box aac-box">
                    <label for="criminalFile" class="label-box">
                        <p>Atestado de Antecendentes Criminais</p> 
                        
                        <figure>
                            <img src="../img/aac-icon.png" alt="rg-icon" class="criminalFileStatus">
                        </figure>
                    </label>

                    <input type="file" name="cnh-file" id="criminalFile" class="file-input">
                </div>
            </div>

            <footer class="doc-footer">
                <img src="../img/mini-logo-branca.png" alt="logo-muv" class="logo-footer">

                <button class="btn okGreen-btn okDoc-btn">OK</button>
            </footer>
        </div>
    </div>
    <script>
        let count = 0
        function test(e){
            
            if(e.id === 'cnhFile'){
                $(`.${e.id}Status`).attr('src', '../img/check-icon.png')
                count++
            } else if(e.id === 'criminalFile'){
                count++
                $(`.${e.id}Status`).attr('src', '../img/check-icon.png')
            } else if(e.id === 'crlvFile'){
                count++
                $(`.${e.id}Status`).attr('src', '../img/check-icon.png')
            } else if(e.id === 'rgFile'){
                count++
                $(`.${e.id}Status`).attr('src', '../img/check-icon.png')
            }
            
            console.log(count)
            console.log(e.id)
            allValidDoc(count)
        }
        $('input').change((e) => test(e.target))

        const allValidDoc = (count) => {
            if(count === 4){                
                $('.logo-footer').fadeOut(0)
                $('.okDoc-btn').fadeIn()
                console.log("todos documentos ok!")
            }else return
        }
        $('.okDoc-btn').click(() =>{
            location.href = 'pre_photo.html'
        })
    </script>
</body>
</html>