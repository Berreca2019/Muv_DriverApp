<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="../css/index.css" />
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script src="../js/index.js"></script>
    <script src="../cordova.js"></script>
    <title>Start</title>
</head>
<body class="init-body">
    
        <div class="init-container">
            <header class="init-header">

                <div class="start-menu">

                    <button class="btn-menu">
                        <img src="../img/menuBtn-icon.png" alt="menu-button-icon">
                    </button>

                    <div class="status-container">
                        <p id="status-header"> Offline </p>

                        <input type="checkbox" name="status-check" id="status-btn">

                        
                    </div>

                    <div class="news-container">
                        <a href="#">
                            <button class="news-btn" id="bell-icon">
                                <img src="../img/bell_icon.png" alt="sino-icon">
                            </button>
                        </a>

                        <a href="#">
                            <button class="news-btn" id="chat-icon">
                                <img src="../img/chat.png" alt="chat-icon">
                            </button>
                        </a>
                    </div>
                </div>
                
                <div class="statusAlert-container">

                    <div class="status-box offline-box">
                        <div class="txtStatus-box">
                            <img src="../img/moon_icon.png" alt="moon-icon" class="status-icon">
    
                            <div class="txtStatus">
                                <h1 id="status-title">Você está offline!</h1>
                                <p id="status-subTitle">Fique online para aceitar corridas!</p>
                            </div>
                        </div>
                    </div>

                    <div class="status-box online-box">
                        <div class="txtStatus-box">
                            <img src="../img/sun_icon.png" alt="moon-icon" class="status-icon">
    
                            <div class="txtStatus">
                                <h1 id="status-title">Você está online!</h1>
                                <p id="status-subTitle">Aceite novas corridas!</p>
                            </div>
                        </div>
                    </div>
                        
                </div>
            </header>
            <div id="map"></div>
            <div class="profile-preview">
                <div class="proPreview-container">
                    <figure class="preview-pic">
                        <img src="../img/profile_pic.png" alt="profile-picture" id="driverImg">
                    </figure>

                    <div class="proPreview-txt">
                        <h1 class="name p-title" id="driverName">Mr. Driver Irraaaa</h1>
                        <p class="driver-level p-txt"> Basic level </p>
                    </div>

                    <div class="cash-txt">
                        <h1 class="cash p-title"> R$120,00</h1>
                        <p class="p-txt">Balance</p>
                    </div>
                </div>

                <div class="atrLevel-container">
                    <div class="atrLevel-item">
                        <figure class="atr-Icon time-icon">
                            <img src="../img/clock_icon.png" alt="clock-icon">
                        </figure>

                        <h1 class="atrLevel-title race-time"> 8.5 </h1>

                        <p class="atrLevel-sub"> HOURS ONLINE</p>
                    </div>

                    <div class="atrLevel-item">
                        <figure class="atr-Icon velo-icon">
                            <img src="../img/velo_icon.png" alt="velocímetro-icon">
                        </figure>

                        <h1 class="atrLevel-title km-data"> 20 KM </h1>

                        <p class="atrLevel-sub"> TOTAL DISTANCE</p>
                    </div>

                    <div class="atrLevel-item">
                        <figure class="atr-Icon ticket-icon">
                            <img src="../img/ticket_icon.png" alt="ticket-icon">
                        </figure>

                        <h1 class="atrLevel-title total-races"> 10 </h1>

                        <p class="atrLevel-sub"> TOTAL JOBS</p>
                    </div>
                </div>
            </div>
            <div class="raceRequest-container">
                <div class="profileRace-container">
                    <figure class="picClient-box">
                        <img src="../img/proPic-user.png" alt="profile-picture-user">
                    </figure>

                    <div class="txtClient-box">
                        <h1 class="clientName p-title"> Nome do Cliente </h1>

                        <div class="speRace-box">
                            <div class="paySpe-box">
                                <p class="p-txt"> Pix </p>
                            </div>

                            <div class="defSpe-box">

                                <figure class="def-icon">
                                    <img src="../img/hand-icon.png" alt="hand-icon">
                                </figure>
                                    
                                <p class="p-txt"> Surdo </p>
                            </div>
                        </div>
                    </div>

                    <div class="cashTxt-box">
                        <h1 class="cash  p-title"> R$15,00 </h1>

                        <p class="distance p-txt"> 10KM </p>
                    </div>
                </div>

                <div class="race-container">
                    <div class="dot-container">
                        <div class="dot black-dot"></div>
                        
                        <div class="trace-div"></div>

                        <div class="dot green-dot"></div>
                    </div>

                    <div class="localRequest-container">
                        <div class="local-box pickUp-box">
                            <h2 class="localType-title">Pick Up</h2>
                            <p class="local-txt"> R. Location Example</p>
                        </div>

                        <div class="local-box dropOff-box">
                            <h2 class="localType-title">Drop Off</h2>
                            <p class="local-txt">R. Destiny Example</p>
                        </div>
                    </div>
                </div>

                <div class="requestBtn-container">
                    <button class="btn ignore-btn"> Ignore </button>

                    <button class="btn accept-btn"> Accept </button>
                </div>                
            </div>
            
        </div>
    <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyABnuQpgsqSITzefoNMys4iXmfgWlXqEfk&callback=initMap&v=weekly"
        async>
    </script>
    <script>
        $(document).ready(function (){
            $.getJSON('http://127.0.0.1/Muv_DrvierApp/Muv_Driver/www/php/sessao.php', function (result) {
                $('#driverName').text(result.nome)
                $('#driverImg').attr('src', `../driverimg/${result.imgperfil}`)                
        })            
    }) 

            const statusBtn = document.querySelector("#status-btn");

            const offBox = document.querySelector(".offline-box");
            const onBox = document.querySelector(".online-box");
            const statusTxt = document.querySelector("#status-header");

            const raceRequest = document.querySelector(".raceRequest-container");
            const proPreview = document.querySelector(".profile-preview");

            statusBtn.addEventListener("click", function(){
                if(statusBtn.checked){
                    offBox.style.display = "none";
                    onBox.style.display = "flex";

                    statusTxt.innerHTML = "Online";
                    proPreview.style.display = "none";
                    raceRequest.style.display = "flex";
                }
                else {
                    onBox.style.display = "none";
                    offBox.style.display = "flex";

                    statusTxt.innerHTML = "Offline";
                    proPreview.style.display = "flex";
                    raceRequest.style.display = "none";
                }
            })

            const showRace = setInterval(() => {
                if(statusBtn.checked){
                    $.getJSON('http://127.0.0.1/Muv_DrvierApp/Muv_Driver/www/php/corrida.php', function (result) {
                        console.log(result)

                        const initcontainer = document.querySelector('.init-container')

                        initcontainer.appendChild(
                            <div class="raceRequest-container">
                <div class="profileRace-container">
                    <figure class="picClient-box">
                        <img src="../img/proPic-user.png" alt="profile-picture-user">
                    </figure>

                    <div class="txtClient-box">
                        <h1 class="clientName p-title"> Nome do Cliente </h1>

                        <div class="speRace-box">
                            <div class="paySpe-box">
                                <p class="p-txt"> Pix </p>
                            </div>

                            <div class="defSpe-box">

                                <figure class="def-icon">
                                    <img src="../img/hand-icon.png" alt="hand-icon">
                                </figure>
                                    
                                <p class="p-txt"> Surdo </p>
                            </div>
                        </div>
                    </div>

                    <div class="cashTxt-box">
                        <h1 class="cash  p-title"> R$15,00 </h1>

                        <p class="distance p-txt"> 10KM </p>
                    </div>
                </div>

                <div class="race-container">
                    <div class="dot-container">
                        <div class="dot black-dot"></div>
                        
                        <div class="trace-div"></div>

                        <div class="dot green-dot"></div>
                    </div>

                    <div class="localRequest-container">
                        <div class="local-box pickUp-box">
                            <h2 class="localType-title">Pick Up</h2>
                            <p class="local-txt"> R. Location Example</p>
                        </div>

                        <div class="local-box dropOff-box">
                            <h2 class="localType-title">Drop Off</h2>
                            <p class="local-txt">R. Destiny Example</p>
                        </div>
                    </div>
                </div>

                <div class="requestBtn-container">
                    <button class="btn ignore-btn"> Ignore </button>

                    <button class="btn accept-btn"> Accept </button>
                </div>                
            </div>
                        )


<<<<<<< Updated upstream

        <script>
            const statusBtn = document.querySelector("#status-btn");

            const offBox = document.querySelector(".offline-box");
            const onBox = document.querySelector(".online-box");
            const statusTxt = document.querySelector("#status-header");

            const raceRequest = document.querySelector(".raceRequest-container");
            const proPreview = document.querySelector(".profile-preview");

            statusBtn.addEventListener("click", function(){
                if(statusBtn.checked){
                    offBox.style.display = "none";
                    onBox.style.display = "flex";

                    statusTxt.innerHTML = "Online";
                    proPreview.style.display = "none";
                    raceRequest.style.display = "flex";
                }
                else {
                    onBox.style.display = "none";
                    offBox.style.display = "flex";

                    statusTxt.innerHTML = "Offline";
                    proPreview.style.display = "flex";
                    raceRequest.style.display = "none";
                }
            })

        </script>
=======
                        clearInterval(showRace)                
                    })                
                } else {
                    console.log('offline')                 
                }
        }, 1000);
    </script>
>>>>>>> Stashed changes
</body>
</html>